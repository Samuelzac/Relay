<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Create Event</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body { margin:0; padding:0; background:#000; color:#fff; font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif; }
    .wrap { max-width:720px; margin:0 auto; padding:16px; }
    .card { margin-top:12px; padding:14px; border-radius:12px; background:rgba(255,255,255,0.08); }
    input, select { width:100%; padding:12px; border-radius:10px; border:0; margin-top:8px; font-size:16px; }
    label { display:block; margin-top:10px; opacity:.9; }
    button { margin-top:14px; padding:12px 16px; border-radius:10px; border:0; background:#1976d2; color:#fff; font-size:16px; cursor:pointer; width:100%; }
    .muted { opacity:.82; font-size:13px; }
    .bad { color:#ff8a80; }
  </style>
</head>
<body>
  <div class="wrap">
    <h2>Create a live event</h2>
    <div class="card">
      <label>Email</label>
      <input id="email" type="email" placeholder="you@example.com" />
      <label>Title</label>
      <input id="title" type="text" placeholder="My live stream" />
      <label>Tier</label>
      <select id="tier">
        <option value="3">Standard (3 hours)</option>
        <option value="8">Extended (8 hours)</option>
      </select>
      <label><input id="wl" type="checkbox" /> White-label (hide footer)</label>
      <button id="go">Pay & Create</button>
      <div id="msg" class="muted"></div>
    </div>
  </div>

<script>
  const API_BASE = "https://stream-platform-api.kiwismurph.workers.dev";
  const msg = document.getElementById("msg");
  document.getElementById("go").onclick = async () => {
    msg.textContent = "Creating checkoutâ€¦";
    const body = {
      email: document.getElementById("email").value,
      title: document.getElementById("title").value,
      tier: Number(document.getElementById("tier").value),
      white_label: document.getElementById("wl").checked
    };
    const r = await fetch(`${API}/api/events`, { method:"POST", headers:{ "Content-Type":"application/json" }, body: JSON.stringify(body) });
    const j = await r.json();
    if (!r.ok) { msg.innerHTML = `<span class="bad">${j.error || "Failed"}</span>`; return; }
    location.href = j.checkout_url;
  };
</script>

<div style="margin-top:18px; font-size:12px; opacity:.75; text-align:center">
  By using this service you agree to the <a href="/terms" style="color:#9ad1ff">Terms</a> and <a href="/privacy" style="color:#9ad1ff">Privacy Policy</a>.
</div>

</body>
</html>
